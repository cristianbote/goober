import{toHash}from"./to-hash";import{update}from"./update";import{astish}from"./astish";import{parse}from"./parse";let cache={},stringify=t=>{if("object"==typeof t){let e="";for(let r in t)e+=r+stringify(t[r]);return e}return t};export let hash=(t,e,r,a,s)=>{let i=stringify(t),h=cache[i]||(cache[i]=toHash(i));if(!cache[h]){let e=i!==t?t:astish(t);cache[h]=parse(s?{["@keyframes "+h]:e}:e,r?"":"."+h)}return update(cache[h],e,a),h};